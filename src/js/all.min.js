!function(e){e.fn.datePicker=function(){this.each(function(){var t=this,a=function(t){t.addEventListener("click",function(a){var n={},r=function(){t.value?(n.current=new Date(t.value),n.result=new Date(t.value)):(n.current=new Date,n.result=new Date),n.createDom=function(){n.domElem=document.createElement("div"),n.domElem.header=document.createElement("div"),n.domElem.header.year=document.createElement("div"),n.domElem.header.year.prevBtn=document.createElement("button"),n.domElem.header.year.yearNum=document.createElement("span"),n.domElem.header.year.nextBtn=document.createElement("button"),n.domElem.header.confirmBtn=document.createElement("button"),n.domElem.monthDisplay=document.createElement("div"),n.domElem.monthDisplay.prevBtn=document.createElement("button"),n.domElem.monthDisplay.monthNum=document.createElement("span"),n.domElem.monthDisplay.nextBtn=document.createElement("button"),n.domElem.dateDisplay=document.createElement("table"),n.domElem.header.year.prevBtn.innerHTML='<i class="fa fa-angle-left"></i>',n.domElem.header.year.nextBtn.innerHTML='<i class="fa fa-angle-right"></i>',n.domElem.header.confirmBtn.innerHTML="OK",n.domElem.className+="date-picker-content",n.domElem.header.className+="calendar-head",n.domElem.header.year.className+="year-display",n.domElem.header.confirmBtn.className+="confirm-btn",n.domElem.monthDisplay.className+="month-display"},n.createDate={},n.createDate.createYear=function(){n.domElem.header.year.yearNum.innerHTML=n.current.getFullYear()},n.createDate.createMonth=function(){var e=["Jan.","Feb.","Mar.","Apr.","May","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."],t=n.current.getMonth();t>0?n.domElem.monthDisplay.prevBtn.innerHTML=e[t-1]:n.domElem.monthDisplay.prevBtn.innerHTML=e[11],n.domElem.monthDisplay.monthNum.innerHTML=e[t],11>t?n.domElem.monthDisplay.nextBtn.innerHTML=e[t+1]:n.domElem.monthDisplay.nextBtn.innerHTML=e[0]},n.createDate.createDate=function(){for(var e=function(e,t){if(t+=1,2==t)return e%4===0&&e%100!==0||e%400===0?29:28;var a=[1,3,5,7,8,10,12],n=[4,6,9,11];for(var r in a)if(t==a[r])return 31;for(r in n)if(t==n[r])return 30},a=document.createElement("thead"),r=document.createElement("tr"),l=["SUN","MON","TUE","WED","THU","FRI","SAT"],d=0;6>=d;d++){var c=document.createElement("td");c.innerHTML=l[d],r.appendChild(c)}a.appendChild(r);for(var m=n.current.getFullYear(),o=n.current.getMonth(),i=document.createElement("tbody"),s=new Date(m,o,1),u=s.getDay(),h=e(m,o),p=Math.floor((h+u)/7),f=(h+u)%7===0?p:p+1,v=1,E=1;f>=E;E++){for(var y=document.createElement("tr"),D=1;7>=D;D++){var g=document.createElement("td");if(v>h)g.innerHTML="",y.appendChild(g);else{var M,C=n.current.getFullYear(),N=n.current.getMonth();1==E?D>=u+1?(M=document.createElement("button"),M.innerHTML=10>v?"0"+v:v,M.className+="date-btn",tmpDate=new Date,C==tmpDate.getFullYear()&&N==tmpDate.getMonth()&&v==tmpDate.getDate()&&(M.className+=" current-date"),t.value&&C==n.result.getFullYear()&&N==n.result.getMonth()&&v==n.current.getDate()&&(n.selectedDateBtn=M,M.className+=" selected"),g.appendChild(M),n.event.selectDate(M),v++):g.innerHTML="":(M=document.createElement("button"),M.innerHTML=10>v?"0"+v:v,M.className+="date-btn",C==tmpDate.getFullYear()&&N==tmpDate.getMonth()&&v==tmpDate.getDate()&&(M.className+=" current-date"),t.value&&C==n.result.getFullYear()&&N==n.result.getMonth()&&v==n.current.getDate()&&(n.selectedDateBtn=M,M.className+=" selected"),g.appendChild(M),n.event.selectDate(M),v++),y.appendChild(g)}}i.appendChild(y)}n.domElem.dateDisplay.appendChild(a),n.domElem.dateDisplay.appendChild(i)},n.effect={},n.effect.cards=document.createElement("div"),n.effect.cards.className+="date-picker-cards",n.effect.createCards=function(){for(i=0;i<=2;i++){var e=document.createElement("div");e.className+="date-card card_anim2",n.effect.cards.appendChild(e)}},n.effect.cardsInit=function(){var e=n.effect.cards.childNodes;e[0].id="currentCard",e[0].appendChild(n.domElem);for(var t=0;t<e.length;t++)e[t].style.width=290-10*t+"px",e[t].style.left=5*t+"px",e[t].style.top=5*t+"px",e[t].style.zIndex=999-t,0===t?e[t].style.backgroundColor="rgba(255,255,255,0.95)":e[t].style.backgroundColor="rgba(255,255,255,0.9)"},n.effect.cardsNext=function(e,t){t.disabled=!0;var a=n.effect.cards.childNodes,r=a[0];r.className+=" card_anim1",r.style.left="-50px",r.style.opacity="0";var l=function(){n.effect.cards.removeChild(r);var e=document.createElement("div");e.className+="date-card card_anim2",e.appendChild(n.domElem),n.effect.cards.appendChild(e),n.effect.cardsInit();for(var t=n.domElem.dateDisplay.childNodes,a=t.length-1;a>=0;a--)n.domElem.dateDisplay.removeChild(t[a]);n.createDate.createYear(),n.createDate.createMonth(),n.createDate.createDate()};t.disabled=!1,setTimeout(l,400)},n.effect.cardsPrev=function(e,t){t.disabled=!0;var a=n.effect.cards.childNodes,r=a[a.length-1];n.effect.cards.removeChild(r),a[0].removeAttribute("id"),a[0].removeChild(a[0].childNodes[0]);for(var l=0;2>l;l++)a[l].style.width=280-10*l+"px",a[l].style.left=5*(l+1)+"px",a[l].style.top=5*(l+1)+"px",a[l].style.zIndex=998-l,a[l].style.backgroundColor="rgba(255,255,255,0.9)";var d=function(){var e=document.createElement("div");e.id="currentCard";for(var a=n.domElem.dateDisplay.childNodes,r=a.length-1;r>=0;r--)n.domElem.dateDisplay.removeChild(a[r]);n.createDate.createYear(),n.createDate.createMonth(),n.createDate.createDate(),e.className+="date-card card_anim2",e.appendChild(n.domElem),e.style.width="290px",e.style.backgroundColor="rgba(255,255,255,0.95)",e.style.zIndex="999",e.style.left="-50px",e.style.opacity=0,n.effect.cards.insertBefore(e,n.effect.cards.firstChild);var l=function(){e.style.left="0",e.style.opacity=1};t.disabled=!1,setTimeout(l,20)};setTimeout(d,200)},n.event={},n.event.prevYear=function(){var e=n.domElem.header.year.prevBtn;e.addEventListener("click",function(e){var t=n.current.getFullYear()-1;n.current.setFullYear(t);var a=e.target;n.effect.cardsPrev(12,a)})},n.event.nextYear=function(){var e=n.domElem.header.year.nextBtn;e.addEventListener("click",function(e){var t=n.current.getFullYear()+1;n.current.setFullYear(t);var a=e.target;n.effect.cardsNext(12,a)})},n.event.prevMonth=function(){var e=n.domElem.monthDisplay.prevBtn;e.addEventListener("click",function(e){if(0===n.current.getMonth()){var t=n.current.getFullYear()-1;n.current.setFullYear(t,11)}else n.current.setMonth(n.current.getMonth()-1);var a=e.target;n.effect.cardsPrev(1,a)})},n.event.nextMonth=function(){var e=n.domElem.monthDisplay.nextBtn;e.addEventListener("click",function(e){if(11==n.current.getMonth()){var t=n.current.getFullYear()+1;n.current.setFullYear(t,0)}else n.current.setMonth(n.current.getMonth()+1);var a=e.target;n.effect.cardsNext(1,a)})},n.event.selectDateHandler=function(t){n.selectedDateBtn&&e(n.selectedDateBtn).removeClass("selected");var a=t.target,r=parseInt(a.innerHTML);n.result=n.current,n.result.setDate(r),a.className+=" selected",n.selectedDateBtn=a},n.event.selectDate=function(e){e.addEventListener("click",n.event.selectDateHandler)},n.event.confirmResult=function(t){var a=n.domElem.header.confirmBtn;a.addEventListener("click",function(a){var r,l,d;r=n.result.getFullYear(),l=n.result.getMonth()<9?"0"+(n.result.getMonth()+1):n.result.getMonth()+1,d=n.result.getDate()<10?"0"+n.result.getDate():n.result.getDate(),t.value=r+"-"+l+"-"+d,e(t).change();var c=document.getElementsByTagName("body");c[0].removeChild(n.container)})},n.combineDom=function(){n.domElem.header.year.appendChild(n.domElem.header.year.prevBtn),n.domElem.header.year.appendChild(n.domElem.header.year.yearNum),n.domElem.header.year.appendChild(n.domElem.header.year.nextBtn),n.domElem.header.appendChild(n.domElem.header.year),n.domElem.header.appendChild(n.domElem.header.confirmBtn),n.domElem.monthDisplay.appendChild(n.domElem.monthDisplay.prevBtn),n.domElem.monthDisplay.appendChild(n.domElem.monthDisplay.monthNum),n.domElem.monthDisplay.appendChild(n.domElem.monthDisplay.nextBtn),n.domElem.appendChild(n.domElem.header),n.domElem.appendChild(n.domElem.monthDisplay),n.domElem.appendChild(n.domElem.dateDisplay)}};r(),n.createDom(),n.createDate.createYear(),n.createDate.createMonth(),n.createDate.createDate(),n.combineDom(),n.container=document.createElement("div"),n.container.className+="date-picker",n.effect.createCards(),n.effect.cardsInit(),n.container.appendChild(n.effect.cards),e("body").append(n.container);var l=e(t).offset();n.container.style.left=l.left+(t.clientWidth-290)/2+"px",n.container.style.top=l.top-(250-t.clientHeight)/2+"px",n.event.prevYear(),n.event.nextYear(),n.event.prevMonth(),n.event.nextMonth(),n.event.confirmResult(t)})};a(t)})}}(jQuery);
//# sourceMappingURL=all.min.js.map
